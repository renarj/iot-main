<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"  data-bs-theme="dark">
<head th:replace="~{includes/header :: header}">
</head>
<body>
<script th:src="@{/javascript/setup.js}" src="/javascript/setup.js"></script>



<div class="container-fluid" id="root" th:attr="pluginId=${pluginId},schemaId=${schemaId},controllerId=${controllerId},thingId=${thingId}">
    <div th:replace="~{includes/header :: navigation (selectTab='admin')}"></div>

    <div th:replace="~{includes/header :: adminTabs (selectTab='setup')}"></div>
    <script id="pluginTemplate" type="text/x-handlebars-template">
        <a class="list-group-item list-group-item-action pluginButton" pluginId="{{pluginId}}" href="/web/admin/setup/plugins({{pluginId}})">{{pluginId}} ({{name}})</a>
    </script>
    <script id="schemaTemplate" type="text/x-handlebars-template">
        <a class="list-group-item list-group-item-action schemaButton" schemaId="{{schemaId}}" href="/web/admin/setup/plugins({{pluginId}})/schemas({{schemaId}})">{{schemaId}}</a>
    </script>
    <script id="propertyTemplate" type="text/x-handlebars-template">
        <div class="row mb-2">
            <label for="{{field}}" class="col-form-label col-sm-2">{{field}}:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control thingProperty" id="{{field}}">
            </div>
        </div>
    </script>
    <script id="propertyLinkTemplate" type="text/x-handlebars-template">
        <div class="row mb-2">
            <label for="{{field}}" class="col-form-label col-sm-2">{{field}}:</label>
            <div class="col-sm-10">
                <select id="{{field}}" class="thingProperty linkage" schemaId="{{schemaId}}" field="{{field}}">
                </select>
            </div>
        </div>
    </script>

    <div class="row p-1 justify-content-start" id="renderThing">
        <div class="col-2" id="actionMenu">
            <div class="card px-0">
                <div class="card-header d-flex justify-content-start">
                    <h5 class="card-title flex-grow-1">Plugins</h5>
                    <a class="addPlugin" href="#" id="addPluginButton"><i class="bi bi-plus"></i></a>
                </div>
                <div class="card-body">
                    <div class="list-group" id="pluginList">

                    </div>
                </div>
            </div>
        </div>
        <div class="col-3">
            <div class="card fade" style="width: 18rem;" id="schemaPanel">
                <div class="card-header d-flex justify-content-start">
                    <h5 class="card-title flex-grow-1">Select Thing</h5>
                </div>
                <div class="card-body">
                    <div class="list-group" id="schemaList">

                    </div>
                </div>
            </div>
        </div>
        <div class="col-7">
            <div class="card fade" id="detailPanel" >
                <div class="card-header d-flex justify-content-start">
                    <h5 class="card-title flex-grow-1">Configure Thing: <label id="typeLabel"></label></h5>
                </div>
                <div class="card-body" id="thingDetails">
                    <h3 id="templateText">Test</h3>
                    <form id="thingForm">
                        <div class="row mb-2">
                            <label for="thingId" class="col-form-label col-sm-2">Thing ID:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="thingId">
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="friendlyName" class="col-form-label col-sm-2">Name/Description:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="friendlyName"/>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="controllerList" class="col-form-label col-sm-2">Controller:</label>
                            <div class="col-sm-10">
                                <select id="controllerList">
                                </select>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="pluginid" class="col-form-label col-sm-2">Plugin:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="pluginid" disabled/>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="type" class="col-form-label col-sm-2">Type:</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="type" disabled/>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label for="parentList" class="col-form-label col-sm-2">Parent:</label>
                            <div class="col-sm-10">
                                <select id="parentList">
                                </select>
                            </div>
                        </div>

                    </form>
                </div>
                <div class="card-footer text-muted">
                    <button type="button" class="btn btn-primary" id="addThing">Save Thing</button>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>